# GhostOS Minimal Kernel Configuration for Pi Zero W
CONFIG_ARM=y
CONFIG_ARCH_BCM2835=y
CONFIG_ARCH_MULTI_V6=y
CONFIG_ARM_THUMB=y
CONFIG_CPU_V6=y
CONFIG_VMSPLIT_2G=y
CONFIG_PREEMPT=y
CONFIG_AEABI=y
CONFIG_VFP=y
CONFIG_NEON=n  # Pi Zero doesn't have NEON

# System Type
CONFIG_MMU=y
CONFIG_ARCH_BCM=y
CONFIG_ARCH_FORCE_MAX_ORDER=11  # Optimize for 2MB max order

# Pi Zero W Essentials
CONFIG_BCM2835_MBOX=y
CONFIG_BCM2835_WDT=y
CONFIG_BCM2835_GPIO=y
CONFIG_RASPBERRYPI_FIRMWARE=y
CONFIG_BCM2835_POWER=y
CONFIG_BCM2835_THERMAL=y
CONFIG_PWM_BCM2835=y
CONFIG_SPI_BCM2835=y
CONFIG_I2C_BCM2835=y

# Minimal WiFi - Optimized for BCM43430
CONFIG_WIRELESS=y
CONFIG_CFG80211=y
CONFIG_MAC80211=y
CONFIG_BRCMFMAC=y
CONFIG_BRCMFMAC_SDIO=y
CONFIG_BRCMUTIL=y
CONFIG_RFKILL=y

# Basic USB - Minimal for Pi Zero W
CONFIG_USB=y
CONFIG_USB_DWC2=y
CONFIG_USB_STORAGE=y
CONFIG_USB_SERIAL=y
CONFIG_USB_ACM=n  # Remove unused
CONFIG_USB_PRINTER=n  # Remove unused

# Minimal File Systems
CONFIG_EXT4_FS=y
CONFIG_EXT4_FS_POSIX_ACL=n  # Remove unused
CONFIG_EXT4_FS_SECURITY=n  # Remove unused
CONFIG_VFAT_FS=y
CONFIG_SQUASHFS=y
CONFIG_SQUASHFS_XZ=y  # Better compression
CONFIG_OVERLAY_FS=y  # For Ghost layered fs

# Basic Networking - Optimized
CONFIG_PACKET=y
CONFIG_UNIX=y
CONFIG_INET=y
CONFIG_IPV6=n  # Remove if not needed
CONFIG_NETDEVICES=y
CONFIG_NETFILTER=y
CONFIG_NET_SCHED=y
CONFIG_NET_SCH_FQ_CODEL=y  # Better bufferbloat handling

# Ghost System Core
CONFIG_GHOST_SYSTEM=y
CONFIG_GHOST_NET=y
CONFIG_GHOST_NEURAL=y  # Neural acceleration
CONFIG_GHOST_GPIO=y   # Direct GPIO access

# Memory Management - Optimized for 512MB
CONFIG_SWAP=y
CONFIG_ZSWAP=y
CONFIG_ZSMALLOC=y
CONFIG_ZRAM=y
CONFIG_ZRAM_WRITEBACK=y  # Enable writeback
CONFIG_CMA=y
CONFIG_CMA_SIZE_MBYTES=32
CONFIG_CLEANCACHE=y
CONFIG_FRONTSWAP=y
CONFIG_COMPACTION=y
CONFIG_MIGRATION=y

# Process Management - Minimal
CONFIG_CGROUPS=y
CONFIG_NAMESPACES=y
CONFIG_MEMCG=y  # Memory control group
CONFIG_BLK_CGROUP=y  # Block IO control group

# Security - Essential Only
CONFIG_SECURITY=y
CONFIG_CRYPTO_AES=y
CONFIG_CRYPTO_SHA256=y
CONFIG_CRYPTO_GHASH=y
CONFIG_CRYPTO_MANAGER=y
CONFIG_CRYPTO_USER=n  # Remove unused

# Power Management - Aggressive
CONFIG_PM=y
CONFIG_CPU_FREQ=y
CONFIG_CPU_FREQ_DEFAULT_GOV_ONDEMAND=y
CONFIG_CPU_FREQ_GOV_POWERSAVE=y
CONFIG_CPU_IDLE=y
CONFIG_SUSPEND=y
CONFIG_PM_WAKELOCKS=n  # Not needed

# Remove Unnecessary Features
CONFIG_MAGIC_SYSRQ=n
CONFIG_KPROBES=n
CONFIG_PROFILING=n
CONFIG_FTRACE=n
CONFIG_DEBUG_FS=n
CONFIG_KALLSYMS=n
CONFIG_UNUSED_SYMBOLS=n
CONFIG_AUDIT=n
CONFIG_IKCONFIG=n
CONFIG_IKCONFIG_PROC=n

# Ghost-specific Optimizations
CONFIG_GHOST_PREEMPT=y  # Ghost preemption model
CONFIG_GHOST_SCHED=y    # Ghost scheduler
CONFIG_GHOST_MM=y       # Ghost memory management
